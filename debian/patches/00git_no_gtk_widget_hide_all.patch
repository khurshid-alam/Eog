From ff1e76ae5227ed08f5cb4f2109434972f33b7941 Mon Sep 17 00:00:00 2001
From: Javier SÃ¡nchez <jsanchez@deskblue.com>
Date: Sat, 23 Oct 2010 05:49:29 +0000
Subject: Removed all references to gtk_widget_hide_all

gtk_widget_hide_all was removed in the latest version of gtk+.
Fixes bug #632954.
---
diff --git a/src/eog-properties-dialog.c b/src/eog-properties-dialog.c
index 096d9f4..90f656f 100644
--- a/src/eog-properties-dialog.c
+++ b/src/eog-properties-dialog.c
@@ -354,10 +354,10 @@ pd_update_metadata_tab (EogPropertiesDialog *prop_dlg,
 		}
 
 		if (gtk_widget_get_visible (priv->exif_box)) {
-			gtk_widget_hide_all (priv->exif_box);
+			gtk_widget_hide (priv->exif_box);
 		}
 		if (gtk_widget_get_visible (priv->metadata_details_box)) {
-			gtk_widget_hide_all (priv->metadata_details_box);
+			gtk_widget_hide (priv->metadata_details_box);
 		}
 
 		return;
@@ -367,7 +367,7 @@ pd_update_metadata_tab (EogPropertiesDialog *prop_dlg,
 		if (priv->netbook_mode &&
 		    !gtk_widget_get_visible (priv->metadata_details_box)) {
 			gtk_widget_show_all (priv->metadata_details_box);
-			gtk_widget_hide_all (priv->exif_details_expander);
+			gtk_widget_hide (priv->exif_details_expander);
 		}
 	}
 
@@ -541,7 +541,7 @@ eog_properties_dialog_set_netbook_mode (EogPropertiesDialog *dlg,
 		if (gtk_widget_get_visible (priv->exif_box))
 			gtk_widget_show_all (priv->metadata_details_box);
 
-		gtk_widget_hide_all (priv->exif_details_expander);
+		gtk_widget_hide (priv->exif_details_expander);
 	} else {
 		gtk_widget_reparent (priv->metadata_details_sw,
 				     priv->exif_details_expander);
@@ -549,7 +549,7 @@ eog_properties_dialog_set_netbook_mode (EogPropertiesDialog *dlg,
 
 		if (gtk_notebook_get_current_page (GTK_NOTEBOOK (priv->notebook)) == EOG_PROPERTIES_DIALOG_PAGE_DETAILS)
 			gtk_notebook_prev_page (GTK_NOTEBOOK (priv->notebook));
-		gtk_widget_hide_all (priv->metadata_details_box);
+		gtk_widget_hide (priv->metadata_details_box);
 	}
 #endif
 }
@@ -753,7 +753,7 @@ eog_properties_dialog_init (EogPropertiesDialog *prop_dlg)
 	priv->metadata_details_sw = sw;
 
 	if (priv->netbook_mode) {
-		gtk_widget_hide_all (priv->exif_details_expander);
+		gtk_widget_hide (priv->exif_details_expander);
 		gtk_box_pack_start (GTK_BOX (priv->metadata_details_box),
 				    sw, TRUE, TRUE, 6);
 	} else {
@@ -767,8 +767,8 @@ eog_properties_dialog_init (EogPropertiesDialog *prop_dlg)
 			  	dlg);
 
 #ifndef HAVE_EXEMPI
-	gtk_widget_hide_all (xmp_box);
-	gtk_widget_hide_all (xmp_box_label);
+	gtk_widget_hide (xmp_box);
+	gtk_widget_hide (xmp_box_label);
 #endif
 
 #else
diff --git a/src/eog-thumb-nav.c b/src/eog-thumb-nav.c
index 16b575c..d7a7c2b 100644
--- a/src/eog-thumb-nav.c
+++ b/src/eog-thumb-nav.c
@@ -483,8 +483,8 @@ eog_thumb_nav_set_show_buttons (EogThumbNav *nav, gboolean show_buttons)
 		gtk_widget_show_all (nav->priv->button_left);
 		gtk_widget_show_all (nav->priv->button_right);
 	} else {
-		gtk_widget_hide_all (nav->priv->button_left);
-		gtk_widget_hide_all (nav->priv->button_right);
+		gtk_widget_hide (nav->priv->button_left);
+		gtk_widget_hide (nav->priv->button_right);
 	}
 }
 
@@ -551,8 +551,8 @@ eog_thumb_nav_set_mode (EogThumbNav *nav, EogThumbNavMode mode)
 						GTK_POLICY_NEVER,
 						GTK_POLICY_AUTOMATIC);
 
-		gtk_widget_hide_all (priv->button_left);
-		gtk_widget_hide_all (priv->button_right);
+		gtk_widget_hide (priv->button_left);
+		gtk_widget_hide (priv->button_right);
 
 		break;
 
@@ -567,8 +567,8 @@ eog_thumb_nav_set_mode (EogThumbNav *nav, EogThumbNavMode mode)
 						GTK_POLICY_NEVER,
 						GTK_POLICY_AUTOMATIC);
 
-		gtk_widget_hide_all (priv->button_left);
-		gtk_widget_hide_all (priv->button_right);
+		gtk_widget_hide (priv->button_left);
+		gtk_widget_hide (priv->button_right);
 
 		break;
 
@@ -583,8 +583,8 @@ eog_thumb_nav_set_mode (EogThumbNav *nav, EogThumbNavMode mode)
 						GTK_POLICY_NEVER,
 						GTK_POLICY_AUTOMATIC);
 
-		gtk_widget_hide_all (priv->button_left);
-		gtk_widget_hide_all (priv->button_right);
+		gtk_widget_hide (priv->button_left);
+		gtk_widget_hide (priv->button_right);
 
 		break;
 	}
diff --git a/src/eog-window.c b/src/eog-window.c
index d7a90ec..4dce5b1 100644
--- a/src/eog-window.c
+++ b/src/eog-window.c
@@ -1696,7 +1696,7 @@ fullscreen_timeout_cb (gpointer data)
 {
 	EogWindow *window = EOG_WINDOW (data);
 
-	gtk_widget_hide_all (window->priv->fullscreen_popup);
+	gtk_widget_hide (window->priv->fullscreen_popup);
 
 	eog_scroll_view_hide_cursor (EOG_SCROLL_VIEW (window->priv->view));
 
@@ -1992,7 +1992,7 @@ update_ui_visibility (EogWindow *window)
 	}
 
 	if (priv->fullscreen_popup != NULL) {
-		gtk_widget_hide_all (priv->fullscreen_popup);
+		gtk_widget_hide (priv->fullscreen_popup);
 	}
 }
 
@@ -4913,7 +4913,7 @@ eog_window_focus_out_event (GtkWidget *widget, GdkEventFocus *event)
 		     priv->mode == EOG_WINDOW_MODE_SLIDESHOW;
 
 	if (fullscreen) {
-		gtk_widget_hide_all (priv->fullscreen_popup);
+		gtk_widget_hide (priv->fullscreen_popup);
 	}
 
 	return GTK_WIDGET_CLASS (eog_window_parent_class)->focus_out_event (widget, event);
--
cgit v0.8.3.1
